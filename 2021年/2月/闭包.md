# 闭包

#### 作用域

```
作用域链：当访问一个变量时，代码解释器会首先在当前的作用域查找，如果没找到，就去父级作用域去查找，直到找到该变量或者不存在父级作用域中，这样的链路就是作用域链。

ES5:
 全局作用域：定义在最外层的变量，任何地方都可以访问的。
 函数作用域：定义在函数里面，一旦函数运行完毕，变量就会销毁，除非还有地方继续引用到，比如闭包。
ES6
 块级作用域：let const 定义的变量就是块级作用域，使用 if for 使用 {} 包裹着的就是块级作用域。
```

#### 闭包

```js
闭包其实就是一个可以访问其他函数内部变量的函数。即一个定义在函数内部的函数，或者直接说闭包是个内嵌函数也可以。
闭包产生的本质就是：当前环境中存在指向父级作用域的引用。

function fun1() {
	var a = 1;
	return function(){
		console.log(a);
	};
}

var result = fun1();
result();  // 1

我们不一定在闭包里面一定要使用父级的作用域，我们可以使用这种代码方式去为了更好的实现需求。	
闭包的表现形式
1.返回一个函数。
2. 在定时器、事件监听、Ajax 请求、Web Workers 或者任何异步中，只要使用了回调函数，实际上就是在使用闭包。
3.作为函数参数传递的形式。
4.IIFE（立即执行函数），创建了闭包，保存了全局作用域（window）和当前函数的作用域。
```

