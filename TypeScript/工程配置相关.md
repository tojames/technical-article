# 工程配置相关

## 类型检查指令

- `@ts-ignore`：禁用掉对下一行代码的类型检查，它本质是上 ignore 而不是 disable，也就意味着如果下一行代码并没有问题，那使用 ignore 反而就是一个错误了，这时候适合使用 `ts-expect-error`。
- ` @ts-expect-error`：它只有在**下一行代码真的存在错误时**才能被使用，否则它会给出一个错误
- `@ts-check`：检查JS文件，也可以使用JSDoc 的方式，进行不完全的类型检查。
- `@ts-nocheck`：TS 文件将不再接受类型检查



## 类型声明

> **通过额外的类型声明文件，在核心代码文件以外去提供对类型的进一步补全**。**为 TypeScript 类型检查与推导提供额外的类型信息。** 通过 declare 关键字进行编写`xx.d.ts`

npm包、或者你在window上面挂载对象，比如你通过script标签引入weixinSDK，就需要引入相关的Type或者自己写一套。

- npm 包可以使用 它们提供的type补全类型声明，React 就有 `@types/react`
  - @types/xxx：这些包其实是 .d.ts 这样的声明文件组成的
- 对于在 window对象上挂载对象的话，要不去网上找type包，要么就自己写。

### declare module

通常用于为没有提供类型定义的库进行类型的补全，以及为非代码文件提供基本类型定义。

#### 补全第三方模块类型

```ts
declare module 'pkg' {
  export const handler: () => boolean
}

// 使用
import foo from 'pkg';
const res = foo.handler();


declare module 'pkg' {
  const handler: () => boolean;
  export default handler;
}

// 使用
import bar from 'pkg2';
bar();
```

#### 补全非代码文件类型

> 图片、CSS、MD文件

```ts
declare module "*.png";
declare module "*.gif";
declare module "*.jpg";
declare module "*.jpeg";
declare module "*.svg";
declare module "*.css";
declare module "*.less";
declare module "*.scss";
declare module "*.sass";
declare module "*.styl";
declare module "*.md";
```

### 拓展全局变量Window

> 因为window是使用interface声明的，所以拓展它只需要继续新增属性即可

```ts
declare var window: Window & typeof globalThis;

interface Window {
  // ...
}

interface Window {
  hello: string;
}

window.hello
```

