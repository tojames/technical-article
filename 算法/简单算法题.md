# 简单算法题

**1、数组扁平化**

```js
 // 如何将多维数组扁平化
let arr = [
  [1, "李白", 0.1, "李白2", 2],
  [3, 4, 5, 5],
  [6, 7, 8, 9, [11, 12, [12, 13, [14]]]],
  10,
];
// 1.ES6方法直接实现
// let flatArr = arr.flat(Infinity);
// 2.先转化为字符串，再转换为数组。缺点所有的数组都变成了字符串
// let flatArr = arr.toString().split(",");
// 思路一样
// let flatArr = JSON.stringify(arr).replace(/(\[|\])/g, "").split(",");

// 3.手写递归方法
// 普通函数实现
// 思路是通过递归每一项，然后将数据添加到 newArr 中，可以函数返回的方式，可以直接操作最外层数据，push 进去。
// 具体看代码
function flat(arr) {
  if (!Array.isArray(arr)) throw new TypeError(`${arr} 不是一个数组`);
  let newArr = [],
    len = arr.length,
    item = null,
    i = 0;
  for (; i < len; i++) {
    let item = arr[i];
    // 是数组走递归
    if (Array.isArray(item)) {
      newArr = [...newArr, ...flat(item)];
    } else {
      newArr.push(item);
    }
  }
  return newArr;
}
console.log(flat(arr));


//使用this实现
(() => {
	const _flat = function () {
	  if (!Array.isArray(this)) throw new TypeError(`${this} 不是一个数组`);
	  let newArr = [];
	  let fn = (arr) => {
	    let len = arr.length,
	      item = null,
	      i = 0;
	    for (; i < len; i++) {
	      let item = arr[i];
	      // 是数组走递归
	      if (Array.isArray(item)) {
	        fn(item);
	      } else {
	        newArr.push(item);
	      }
	    }
	  };
	  fn(this);
	  return newArr;
	};
	Array.prototype._flat = _flat;
})();

console.log(arr._flat());
```



**2、斐波那契数列**

```js
// 斐波那契数列 [1,1,2,3,5,8,13,21,34,...]  规律：n-1项 + n - 2 项 = n项
// 求传入 n 返回第n项的数据

// 思路创建斐波那契数组，通过 n 为数组的最后一项，得出结果
function fibonacci(n) {
  if (n <= 1) return 1;
  let arr = [1, 1]; // 创建初始数据
  while (true) {
    let a = arr[arr.length - 2];
    let b = arr[arr.length - 1];
    let sum = a + b;
    arr.push(sum);

    // 当数据的长度等于n的时候,退出循环
    if (arr.length - 1 >= n) break;
  }
  return arr[arr.length - 1];
}

// 通过递归相加
// 这里加了一个递归缓存，是因为递归数量太多的时候就会出现 2n个函数调用，占用内存，导致崩掉
let cache = {};
function fibonacci(n) {
  if (n <= 1) return 1;
  if (cache[n]) {
    return cache[n];
  }
  return (cache[n] = fibonacci(n - 1) + fibonacci(n - 2));
}

// 通过累加，把前面的项全部加完，同是将 n 减到为0 退出递归
function fibonacci(n) {
  const fn = (n, cur = 1, next = 1) => {
    if (n === 0) return cur;
    return fn(n - 1, next, cur + next);
  };
  return fn(n);
}

console.log(fibonacci(0));
console.log(fibonacci(1));
console.log(fibonacci(2));
console.log(fibonacci(3));
console.log(fibonacci(4));
console.log(fibonacci(5));
console.log(fibonacci(6));
```



**3、字节算法题目**

> 输入一个正数N，输出所有和为N的连续正数序列
>
> eg：输入 15
>
> 结果:[ [1,2,3,4,5],[4,5,6],[7,8] ]

